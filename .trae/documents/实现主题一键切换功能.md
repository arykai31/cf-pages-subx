# 实现现代极简主题一键切换功能

## 1. 需求分析

* 实现一键切换主题的功能

* 增加现代极简主题配置

* 支持主题之间的切换

## 2. 技术方案

### 2.1 主题管理架构

* 创建主题配置文件，定义多种主题的颜色变量

* 实现主题切换上下文（Context）

* 提供主题切换组件

### 2.2 文件修改计划

#### 2.2.1 主题配置文件

* **创建** `config/themes.ts` - 定义所有主题的颜色变量

* **更新** `src/index.css` - 修改主题变量定义，支持动态主题

#### 2.2.2 主题管理组件

* **创建** `src/presentation/components/atoms/ThemeToggle.tsx` - 主题切换按钮组件

* **创建** `src/presentation/contexts/ThemeContext.tsx` - 主题管理上下文

#### 2.2.3 集成到应用中

* **更新** `src/App.tsx` - 添加主题上下文提供者

* **更新** `src/presentation/layouts/Header.tsx` - 添加主题切换按钮

## 3. 主题定义

### 3.1 现代极简主题（基于提供的配色方案）

```typescript
modernMinimalist: {
  '--background': '#ffffff',
  '--foreground': '#36454f',
  '--primary': '#36454f',
  '--secondary': '#d3d3d3',
  '--muted': '#f5f5f5',
  '--border': '#d3d3d3',
  // 其他颜色变量...
}
```

### 3.2 现有主题保留

* 保留当前的浅色主题（默认主题）

## 4. 实现步骤

### 4.1 步骤1：创建主题配置文件

* 定义所有主题的颜色变量

* 包含现代极简、浅色、深色主题

### 4.2 步骤2：实现主题上下文

* 创建 ThemeContext 管理当前主题

* 实现主题切换函数

* 持久化主题选择到本地存储

### 4.3 步骤3：创建主题切换组件

* 实现主题切换按钮

* 显示当前主题名称

* 支持点击切换主题

### 4.4 步骤4：集成到应用

* 在 App.tsx 中添加 ThemeProvider

* 在 Header 中添加主题切换按钮

* 更新 CSS 变量以支持动态主题

## 5. 预期效果

* 应用默认使用现代极简主题

* 点击主题切换按钮可以在现代极简、浅色、深色主题之间切换

* 主题切换实时生效，无需刷新页面

* 主题选择持久化到本地存储

## 6. 技术要点

* 使用 CSS 变量实现动态主题切换

* 使用 React Context API 管理主题状态

* 使用 localStorage 持久化主题选择

* 确保主题切换性能流畅

